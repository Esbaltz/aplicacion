<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="cursos"></ion-back-button>
    </ion-buttons>
    <ion-title>Nuevo Curso</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <br>
  <ion-card class="custom-card">
    <form #ClaseForm="ngForm" (ngSubmit)="AgregarCurso(ClaseForm)">
      <ion-card-header>
        <ion-card-title class="title">Nuevo Curso</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-item>
          <ion-label position="floating">Nombre del Curso</ion-label>
          <ion-input 
            minlength="1" 
            name="nombreCurso" 
            required 
            [(ngModel)]="NuevoCurso.nomb_clase" 
            clearInput
            #nombreCurso="ngModel">
          </ion-input>
        </ion-item>
        
        <ion-item *ngIf="nombreCurso.invalid && nombreCurso.touched">
          <ion-text color="danger">
            <p>El nombre del curso es muy corto.</p>
          </ion-text>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Descripción del Curso</ion-label>
          <ion-input minlength="1" name="descripcionCurso" required [(ngModel)]="NuevoCurso.descripcion" clearInput></ion-input>
        </ion-item>

        <ion-item lines="none">
          <ion-label>Semestre:</ion-label>
          <ion-text color="primary">
            <strong>{{ this.NuevoCurso.semestre }}</strong>
          </ion-text>
        </ion-item>

        <ion-item lines="none">
          <ion-label position="floating" >Seccion numero:</ion-label>
          <ion-input type="number" name="sessionNumeroCurso" required [(ngModel)]="NuevoCurso.seccion_num" clearInput></ion-input>
        </ion-item>

        <ion-item lines="none">
          <ion-label position="floating">Sección letra:</ion-label>
          <ion-input 
            maxlength="1" 
            name="descripcionCurso" 
            required 
            [(ngModel)]="NuevoCurso.seccion_letra" 
            clearInput
            pattern="[A-Za-z]"
            #seccionLetra="ngModel">
          </ion-input>
        </ion-item>
        
        <ion-item *ngIf="seccionLetra.invalid && seccionLetra.touched">
          <ion-text color="danger">
            <p>Por favor, ingresa una letra válida.</p>
          </ion-text>
        </ion-item>

        <ion-item lines="none">
          <ion-label>Profesor:</ion-label>
          <ion-text>
            <strong>{{ this.NuevoCurso.nomb_docente }}</strong>
          </ion-text>
        </ion-item>
        
      </ion-card-content>

      <ion-button class="ion-padding" type="submit" color="primary" [disabled]="ClaseForm.invalid">Agregar Curso</ion-button>
      <ion-button class="ion-padding" routerLink="/tabs/cursos" color="danger">Cancelar</ion-button>

    </form>
  </ion-card>
</ion-content>

<ion-footer>
  <ion-toolbar color="primary"></ion-toolbar>
</ion-footer>